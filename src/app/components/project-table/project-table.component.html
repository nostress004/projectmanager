<div class="container">
  <table class="table">
    <thead>
      <tr>
        <th scope="col">Project name</th>
        <th class="text-center" scope="col">Risk</th>
        <th class="text-center" scope="col">Max [days]</th>
        <th class="text-center" scope="col">Planned [days]</th>
        <th class="text-center" scope="col">11.06-11.12</th>
        <th class="text-center" scope="col">11.13-11.19</th>
        <th class="text-center" scope="col">11.20-11.26</th>
        <th class="text-center" scope="col">11.27-12.03</th>
      </tr>
    </thead>
    <tbody>
      <ng-container *ngFor="let projectEl of projects; let i = index;">
        <tr [ngClass]="setBackgroundColor(projectEl.plannedhours, projectEl.budget)">
          <th scope="row" (click)="toggleCollapse(i)">{{ projectEl.name }}
            <i id="collapseIcon{{i}}" class="fa fa-arrow-down" aria-hidden="true"></i>
          </th>
          <td class="text-center">{{ projectEl.risk }}</td>
          <td class="text-center">{{ projectEl.plannedhours }}</td>
          <td class="text-center">needs calc</td>
          <td class="text-center">-</td>
          <td class="text-center">-</td>
          <td class="text-center">-</td>
          <td class="text-center">-</td>
        </tr>
        <tr class="table" id="collapse{{i}}" style="display: none">
          <td colspan="4">
            <div>Project leader: {{ projectEl.projectleader }}</div>
            <div>Start date: {{ projectEl.startdate }}</div>
            <div>Due date: {{ projectEl.duedate }}</div>
          </td>
          <td>
            <ng-container *ngFor="let skill of skills; let i = index;">
            <!-- <ng-container *ngFor="let skill of projectEl.skills[pageIndex]; let i = index;"> -->
              <span>{{ skill.name }} </span>
              <a href="#" ng-click="console.log(2)" class="badge badge-secondary pull-right">
                <i class="fa fa-minus" aria-hidden="true"></i>
              </a>
              <span class="badge badge-pill badge-primary pull-right">{{ skill.number }}</span>
              <a href="#" class="badge badge-secondary pull-right">
                <i class="fa fa-plus" aria-hidden="true"></i>
              </a>
              <br>
            </ng-container>
            <button type="button" class="btn btn-primary btn-sm" data-toggle="modal" data-target="#exampleModalLong">
              Add resource
            </button>
          </td>
          <td>
            <ng-container *ngFor="let skill of skills; let i = index;">
            <!-- <ng-container *ngFor="let skill of projectEl.skills[pageIndex + 1]; let i = index;"> -->
              <span>{{ skill.name }} </span>
              <a href="#" class="badge badge-secondary pull-right">
                <i class="fa fa-minus" aria-hidden="true"></i>
              </a>
              <span class="badge badge-pill badge-primary pull-right">{{ skill.number }}</span>
              <a href="#" class="badge badge-secondary pull-right">
                <i class="fa fa-plus" aria-hidden="true"></i>
              </a>
              <br>
            </ng-container>
            <button type="button" class="btn btn-primary btn-sm bottomaligned" data-toggle="modal" data-target="#exampleModalLong">
              Add resource
            </button>
          </td>
          <td>
            <ng-container *ngFor="let skill of skills; let i = index;">
            <!-- <ng-container *ngFor="let skill of projectEl.skills[pageIndex + 2]; let i = index;"> -->
              <span>{{ skill.name }} </span>
              <a href="#" class="badge badge-secondary pull-right">
                <i class="fa fa-minus" aria-hidden="true"></i>
              </a>
              <span class="badge badge-pill badge-primary pull-right">{{ skill.number }}</span>
              <a href="#" class="badge badge-secondary pull-right">
                <i class="fa fa-plus" aria-hidden="true"></i>
              </a>
              <br>
            </ng-container>
            <button type="button" class="btn btn-primary btn-sm bottomaligned" data-toggle="modal" data-target="#exampleModalLong">
              Add resource
            </button>
          </td>
          <td>
            <ng-container *ngFor="let skill of skills; let i = index;">
            <!-- <ng-container *ngFor="let skill of projectEl.skills[pageIndex + 3]; let i = index;"> -->
              <span>{{ skill.name }} </span>
              <a href="#" class="badge badge-secondary pull-right">
                <i class="fa fa-minus" aria-hidden="true"></i>
              </a>
              <span class="badge badge-pill badge-primary pull-right">{{ skill.number }}</span>
              <a href="#" class="badge badge-secondary pull-right">
                <i class="fa fa-plus" aria-hidden="true"></i>
              </a>
              <br>
            </ng-container>
            <button type="button" class="btn btn-primary btn-sm bottomaligned" data-toggle="modal" data-target="#exampleModalLong">
              Add resource
            </button>
          </td>
        </tr>
      </ng-container>
    </tbody>
  </table>
  <hr>
  <app-pagination [callback]="showMessage"> </app-pagination>
</div>